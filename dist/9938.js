(self.webpackChunklavender_medical=self.webpackChunklavender_medical||[]).push([[9938],{83461:function(e,n,t){e.exports=t(5090)},89469:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=(r=t(10756))&&r.__esModule?r:{default:r},i=t(99182),u=t(69695),c=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),o(n,[{key:"buildURI",value:function(){return i.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,n=e.data,t=e.headers,r=e.separator,o=e.enclosingCharacter,a=e.uFEFF,i=e.target,u=e.specs,c=e.replace;this.state.page=window.open(this.buildURI(n,a,t,r,o),i,u,c)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),n}(a.default.Component);c.defaultProps=Object.assign(u.defaultProps,{target:"_blank"}),c.propTypes=u.propTypes,n.default=c},26425:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=(r=t(10756))&&r.__esModule?r:{default:r},u=t(99182),c=t(69695),l=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.buildURI=t.buildURI.bind(t),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),a(n,[{key:"buildURI",value:function(){return u.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var t=this.props,r=t.data,o=t.headers,a=t.separator,i=t.filename,c=t.enclosingCharacter,l=t.uFEFF,f=n&&"function"==typeof r?r():r,s=new Blob([l?"\ufeff":"",(0,u.toCSV)(f,o,a,c)]);return window.navigator.msSaveBlob(s,i),!1}}},{key:"handleAsyncClick",value:function(e){var n=this;this.props.onClick(e,(function(t){!1!==t?n.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(n){if("function"==typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(n):e.handleSyncClick(n);e.handleLegacy(n)}}},{key:"render",value:function(){var e=this,n=this.props,t=n.data,r=n.headers,a=n.separator,u=n.filename,c=n.uFEFF,l=n.children,f=(n.onClick,n.asyncOnClick,n.enclosingCharacter),s=function(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(n,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),p="undefined"==typeof window?"":this.buildURI(t,c,r,a,f);return i.default.createElement("a",o({download:u},s,{ref:function(n){return e.link=n},target:"_self",href:p,onClick:this.handleClick()}),l)}}]),n}(i.default.Component);l.defaultProps=c.defaultProps,l.propTypes=c.propTypes,n.default=l},99182:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var o=n.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},a=n.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===(void 0===e?"undefined":t(e))&&!(e instanceof Array)}))},i=n.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},u=n.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,n){return new Set([].concat(r(e),r(n)))}),[]))},c=n.jsons2arrays=function(e,n){var t=n=n||u(e),o=n;a(n)&&(t=n.map((function(e){return e.label})),o=n.map((function(e){return e.key})));var i=e.map((function(e){return o.map((function(n){return l(n,e)}))}));return[t].concat(r(i))},l=n.getHeaderValue=function(e,n){var t=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,n,t,r){var o=e[n];if(null!=o)return o;r.splice(1)}),n);return void 0===t?e in n?n[e]:"":t},f=n.elementOrEmpty=function(e){return null==e?"":e},s=n.joiner=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return f(e)})).map((function(e){return""+t+e+t})).join(n)})).join("\n")},p=n.arrays2csv=function(e,n,t,o){return s(n?[n].concat(r(e)):e,t,o)},d=n.jsons2csv=function(e,n,t,r){return s(c(e,n),t,r)},y=n.string2csv=function(e,n,t,r){return n?n.join(t)+"\n"+e:e.replace(/"/g,'""')},v=n.toCSV=function(e,n,t,r){if(a(e))return d(e,n,t,r);if(i(e))return p(e,n,t,r);if("string"==typeof e)return y(e,n,t);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};n.buildURI=function(e,n,t,r,a){var i=v(e,t,r,a),u=o()?"application/csv":"text/csv",c=new Blob([n?"\ufeff":"",i],{type:u}),l="data:"+u+";charset=utf-8,"+(n?"\ufeff":"")+i,f=window.URL||window.webkitURL;return void 0===f.createObjectURL?l:f.createObjectURL(c)}},5090:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CSVLink=n.CSVDownload=void 0;var r=a(t(89469)),o=a(t(26425));function a(e){return e&&e.__esModule?e:{default:e}}n.CSVDownload=r.default,n.CSVLink=o.default},69695:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PropsNotForwarded=n.defaultProps=n.propTypes=void 0;var r,o=((r=t(10756))&&r.__esModule,t(45697));n.propTypes={data:(0,o.oneOfType)([o.string,o.array,o.func]).isRequired,headers:o.array,target:o.string,separator:o.string,filename:o.string,uFEFF:o.bool,onClick:o.func,asyncOnClick:o.bool,enclosingCharacter:o.string},n.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},n.PropsNotForwarded=["data","headers"]}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxPQUFPLElBRVRILEVBQVFtRSxRQUFVbkUsRUFBUXlCLGlCQUFjc0IsRUFFeEMsSUFFSTZHLEVBQWFDLEVBRkQsRUFBUSxRQU1wQkMsRUFBU0QsRUFGRCxFQUFRLFFBSXBCLFNBQVNBLEVBQXVCekosR0FBTyxPQUFPQSxHQUFPQSxFQUFJaUIsV0FBYWpCLEVBQU0sQ0FBRWtCLFFBQVNsQixFQUFPLENBRTVFSixFQUFReUIsWUFBY21JLEVBQVd0SSxRQUNyQ3RCLEVBQVFtRSxRQUFVMkYsRUFBT3hJLE8scUNDaEJ2Q3JCLE9BQU9DLGVBQWVGLEVBQVMsYUFBYyxDQUMzQ0csT0FBTyxJQUVUSCxFQUFRK0osa0JBQW9CL0osRUFBUTZELGFBQWU3RCxFQUFRK0QsZUFBWWhCLEVBRXZFLElBTWdDM0MsRUFGNUI0SixJQUU0QjVKLEVBTm5CLEVBQVEsU0FNZ0NBLEVBQUlpQixXQUZ4QyxFQUFRLFFBSVRyQixFQUFRK0QsVUFBWSxDQUNsQ2IsTUFBTSxFQUFJOEcsRUFBV0MsV0FBVyxDQUFDRCxFQUFXRSxPQUFRRixFQUFXOUMsTUFBTzhDLEVBQVdHLE9BQU9DLFdBQ3hGakgsUUFBUzZHLEVBQVc5QyxNQUNwQjNHLE9BQVF5SixFQUFXRSxPQUNuQjlHLFVBQVc0RyxFQUFXRSxPQUN0QnhGLFNBQVVzRixFQUFXRSxPQUNyQjVHLE1BQU8wRyxFQUFXSyxLQUNsQnBGLFFBQVMrRSxFQUFXRyxLQUNwQjlFLGFBQWMyRSxFQUFXSyxLQUN6QmhILG1CQUFvQjJHLEVBQVdFLFFBR2RsSyxFQUFRNkQsYUFBZSxDQUN4Q1QsVUFBVyxJQUNYc0IsU0FBVSw0QkFDVnBCLE9BQU8sRUFDUCtCLGNBQWMsRUFDZGhDLG1CQUFvQixLQUdFckQsRUFBUStKLGtCQUFvQixDQUFDLE9BQVEsVSIsInNvdXJjZXMiOlsid2VicGFjazovL2xhdmVuZGVyLW1lZGljYWwvLi9ub2RlX21vZHVsZXMvcmVhY3QtY3N2L2luZGV4LmpzIiwid2VicGFjazovL2xhdmVuZGVyLW1lZGljYWwvLi9ub2RlX21vZHVsZXMvcmVhY3QtY3N2L2xpYi9jb21wb25lbnRzL0Rvd25sb2FkLmpzIiwid2VicGFjazovL2xhdmVuZGVyLW1lZGljYWwvLi9ub2RlX21vZHVsZXMvcmVhY3QtY3N2L2xpYi9jb21wb25lbnRzL0xpbmsuanMiLCJ3ZWJwYWNrOi8vbGF2ZW5kZXItbWVkaWNhbC8uL25vZGVfbW9kdWxlcy9yZWFjdC1jc3YvbGliL2NvcmUuanMiLCJ3ZWJwYWNrOi8vbGF2ZW5kZXItbWVkaWNhbC8uL25vZGVfbW9kdWxlcy9yZWFjdC1jc3YvbGliL2luZGV4LmpzIiwid2VicGFjazovL2xhdmVuZGVyLW1lZGljYWwvLi9ub2RlX21vZHVsZXMvcmVhY3QtY3N2L2xpYi9tZXRhUHJvcHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9pbmRleC5qcycpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIF9tZXRhUHJvcHMgPSByZXF1aXJlKCcuLi9tZXRhUHJvcHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICB0YXJnZXQ6ICdfYmxhbmsnXG59O1xuXG52YXIgQ1NWRG93bmxvYWQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ1NWRG93bmxvYWQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENTVkRvd25sb2FkKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENTVkRvd25sb2FkKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDU1ZEb3dubG9hZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENTVkRvd25sb2FkKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7fTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ1NWRG93bmxvYWQsIFt7XG4gICAga2V5OiAnYnVpbGRVUkknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZFVSSSgpIHtcbiAgICAgIHJldHVybiBfY29yZS5idWlsZFVSSS5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGEgPSBfcHJvcHMuZGF0YSxcbiAgICAgICAgICBoZWFkZXJzID0gX3Byb3BzLmhlYWRlcnMsXG4gICAgICAgICAgc2VwYXJhdG9yID0gX3Byb3BzLnNlcGFyYXRvcixcbiAgICAgICAgICBlbmNsb3NpbmdDaGFyYWN0ZXIgPSBfcHJvcHMuZW5jbG9zaW5nQ2hhcmFjdGVyLFxuICAgICAgICAgIHVGRUZGID0gX3Byb3BzLnVGRUZGLFxuICAgICAgICAgIHRhcmdldCA9IF9wcm9wcy50YXJnZXQsXG4gICAgICAgICAgc3BlY3MgPSBfcHJvcHMuc3BlY3MsXG4gICAgICAgICAgcmVwbGFjZSA9IF9wcm9wcy5yZXBsYWNlO1xuXG4gICAgICB0aGlzLnN0YXRlLnBhZ2UgPSB3aW5kb3cub3Blbih0aGlzLmJ1aWxkVVJJKGRhdGEsIHVGRUZGLCBoZWFkZXJzLCBzZXBhcmF0b3IsIGVuY2xvc2luZ0NoYXJhY3RlciksIHRhcmdldCwgc3BlY3MsIHJlcGxhY2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFdpbmRvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpbmRvdygpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLnBhZ2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENTVkRvd25sb2FkO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQ1NWRG93bmxvYWQuZGVmYXVsdFByb3BzID0gT2JqZWN0LmFzc2lnbihfbWV0YVByb3BzLmRlZmF1bHRQcm9wcywgZGVmYXVsdFByb3BzKTtcbkNTVkRvd25sb2FkLnByb3BUeXBlcyA9IF9tZXRhUHJvcHMucHJvcFR5cGVzO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ1NWRG93bmxvYWQ7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIF9tZXRhUHJvcHMgPSByZXF1aXJlKCcuLi9tZXRhUHJvcHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBDU1ZMaW5rID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENTVkxpbmssIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENTVkxpbmsocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NWTGluayk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ1NWTGluay5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENTVkxpbmspKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5idWlsZFVSSSA9IF90aGlzLmJ1aWxkVVJJLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDU1ZMaW5rLCBbe1xuICAgIGtleTogJ2J1aWxkVVJJJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRVUkkoKSB7XG4gICAgICByZXR1cm4gX2NvcmUuYnVpbGRVUkkuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZUxlZ2FjeScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUxlZ2FjeShldmVudCkge1xuICAgICAgdmFyIGlzQXN5bmMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBkYXRhID0gX3Byb3BzLmRhdGEsXG4gICAgICAgICAgICBoZWFkZXJzID0gX3Byb3BzLmhlYWRlcnMsXG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBfcHJvcHMuc2VwYXJhdG9yLFxuICAgICAgICAgICAgZmlsZW5hbWUgPSBfcHJvcHMuZmlsZW5hbWUsXG4gICAgICAgICAgICBlbmNsb3NpbmdDaGFyYWN0ZXIgPSBfcHJvcHMuZW5jbG9zaW5nQ2hhcmFjdGVyLFxuICAgICAgICAgICAgdUZFRkYgPSBfcHJvcHMudUZFRkY7XG5cblxuICAgICAgICB2YXIgY3N2RGF0YSA9IGlzQXN5bmMgJiYgdHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicgPyBkYXRhKCkgOiBkYXRhO1xuXG4gICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW3VGRUZGID8gJ1xcdUZFRkYnIDogJycsICgwLCBfY29yZS50b0NTVikoY3N2RGF0YSwgaGVhZGVycywgc2VwYXJhdG9yLCBlbmNsb3NpbmdDaGFyYWN0ZXIpXSk7XG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlbmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZUFzeW5jQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVBc3luY0NsaWNrKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiBkb25lKHByb2NlZWQpIHtcbiAgICAgICAgaWYgKHByb2NlZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMyLmhhbmRsZUxlZ2FjeShldmVudCwgdHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZXZlbnQsIGRvbmUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZVN5bmNDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVN5bmNDbGljayhldmVudCkge1xuICAgICAgdmFyIHN0b3BFdmVudCA9IHRoaXMucHJvcHMub25DbGljayhldmVudCkgPT09IGZhbHNlO1xuICAgICAgaWYgKHN0b3BFdmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmhhbmRsZUxlZ2FjeShldmVudCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgX3RoaXMzLnByb3BzLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLnByb3BzLmFzeW5jT25DbGljayA/IF90aGlzMy5oYW5kbGVBc3luY0NsaWNrKGV2ZW50KSA6IF90aGlzMy5oYW5kbGVTeW5jQ2xpY2soZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzMy5oYW5kbGVMZWdhY3koZXZlbnQpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGEgPSBfcHJvcHMyLmRhdGEsXG4gICAgICAgICAgaGVhZGVycyA9IF9wcm9wczIuaGVhZGVycyxcbiAgICAgICAgICBzZXBhcmF0b3IgPSBfcHJvcHMyLnNlcGFyYXRvcixcbiAgICAgICAgICBmaWxlbmFtZSA9IF9wcm9wczIuZmlsZW5hbWUsXG4gICAgICAgICAgdUZFRkYgPSBfcHJvcHMyLnVGRUZGLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMi5jaGlsZHJlbixcbiAgICAgICAgICBvbkNsaWNrID0gX3Byb3BzMi5vbkNsaWNrLFxuICAgICAgICAgIGFzeW5jT25DbGljayA9IF9wcm9wczIuYXN5bmNPbkNsaWNrLFxuICAgICAgICAgIGVuY2xvc2luZ0NoYXJhY3RlciA9IF9wcm9wczIuZW5jbG9zaW5nQ2hhcmFjdGVyLFxuICAgICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzMiwgWydkYXRhJywgJ2hlYWRlcnMnLCAnc2VwYXJhdG9yJywgJ2ZpbGVuYW1lJywgJ3VGRUZGJywgJ2NoaWxkcmVuJywgJ29uQ2xpY2snLCAnYXN5bmNPbkNsaWNrJywgJ2VuY2xvc2luZ0NoYXJhY3RlciddKTtcblxuICAgICAgdmFyIGlzTm9kZUVudmlyb25tZW50ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7XG4gICAgICB2YXIgaHJlZiA9IGlzTm9kZUVudmlyb25tZW50ID8gJycgOiB0aGlzLmJ1aWxkVVJJKGRhdGEsIHVGRUZGLCBoZWFkZXJzLCBzZXBhcmF0b3IsIGVuY2xvc2luZ0NoYXJhY3Rlcik7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2EnLFxuICAgICAgICBfZXh0ZW5kcyh7XG4gICAgICAgICAgZG93bmxvYWQ6IGZpbGVuYW1lXG4gICAgICAgIH0sIHJlc3QsIHtcbiAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihsaW5rKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM0LmxpbmsgPSBsaW5rO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGFyZ2V0OiAnX3NlbGYnLFxuICAgICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbGljaygpXG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ1NWTGluaztcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbkNTVkxpbmsuZGVmYXVsdFByb3BzID0gX21ldGFQcm9wcy5kZWZhdWx0UHJvcHM7XG5DU1ZMaW5rLnByb3BUeXBlcyA9IF9tZXRhUHJvcHMucHJvcFR5cGVzO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ1NWTGluazsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxudmFyIGlzU2FmYXJpID0gZXhwb3J0cy5pc1NhZmFyaSA9IGZ1bmN0aW9uIGlzU2FmYXJpKCkge1xuICByZXR1cm4gKC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgKTtcbn07XG5cbnZhciBpc0pzb25zID0gZXhwb3J0cy5pc0pzb25zID0gZnVuY3Rpb24gaXNKc29ucyhhcnJheSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnJheSkgJiYgYXJyYXkuZXZlcnkoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiAodHlwZW9mIHJvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHJvdykpID09PSAnb2JqZWN0JyAmJiAhKHJvdyBpbnN0YW5jZW9mIEFycmF5KTtcbiAgfSk7XG59O1xuXG52YXIgaXNBcnJheXMgPSBleHBvcnRzLmlzQXJyYXlzID0gZnVuY3Rpb24gaXNBcnJheXMoYXJyYXkpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyYXkpICYmIGFycmF5LmV2ZXJ5KGZ1bmN0aW9uIChyb3cpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShyb3cpO1xuICB9KTtcbn07XG5cbnZhciBqc29uc0hlYWRlcnMgPSBleHBvcnRzLmpzb25zSGVhZGVycyA9IGZ1bmN0aW9uIGpzb25zSGVhZGVycyhhcnJheSkge1xuICByZXR1cm4gQXJyYXkuZnJvbShhcnJheS5tYXAoZnVuY3Rpb24gKGpzb24pIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoanNvbik7XG4gIH0pLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBuZXcgU2V0KFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYSksIF90b0NvbnN1bWFibGVBcnJheShiKSkpO1xuICB9LCBbXSkpO1xufTtcblxudmFyIGpzb25zMmFycmF5cyA9IGV4cG9ydHMuanNvbnMyYXJyYXlzID0gZnVuY3Rpb24ganNvbnMyYXJyYXlzKGpzb25zLCBoZWFkZXJzKSB7XG4gIGhlYWRlcnMgPSBoZWFkZXJzIHx8IGpzb25zSGVhZGVycyhqc29ucyk7XG5cbiAgdmFyIGhlYWRlckxhYmVscyA9IGhlYWRlcnM7XG4gIHZhciBoZWFkZXJLZXlzID0gaGVhZGVycztcbiAgaWYgKGlzSnNvbnMoaGVhZGVycykpIHtcbiAgICBoZWFkZXJMYWJlbHMgPSBoZWFkZXJzLm1hcChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICByZXR1cm4gaGVhZGVyLmxhYmVsO1xuICAgIH0pO1xuICAgIGhlYWRlcktleXMgPSBoZWFkZXJzLm1hcChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICByZXR1cm4gaGVhZGVyLmtleTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBkYXRhID0ganNvbnMubWFwKGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gaGVhZGVyS2V5cy5tYXAoZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgcmV0dXJuIGdldEhlYWRlclZhbHVlKGhlYWRlciwgb2JqZWN0KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBbaGVhZGVyTGFiZWxzXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEpKTtcbn07XG5cbnZhciBnZXRIZWFkZXJWYWx1ZSA9IGV4cG9ydHMuZ2V0SGVhZGVyVmFsdWUgPSBmdW5jdGlvbiBnZXRIZWFkZXJWYWx1ZShwcm9wZXJ0eSwgb2JqKSB7XG4gIHZhciBmb3VuZFZhbHVlID0gcHJvcGVydHkucmVwbGFjZSgvXFxbKFteXFxdXSspXS9nLCBcIi4kMVwiKS5zcGxpdChcIi5cIikucmVkdWNlKGZ1bmN0aW9uIChvLCBwLCBpLCBhcnIpIHtcbiAgICB2YXIgdmFsdWUgPSBvW3BdO1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICBhcnIuc3BsaWNlKDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9LCBvYmopO1xuXG4gIHJldHVybiBmb3VuZFZhbHVlID09PSB1bmRlZmluZWQgPyBwcm9wZXJ0eSBpbiBvYmogPyBvYmpbcHJvcGVydHldIDogJycgOiBmb3VuZFZhbHVlO1xufTtcblxudmFyIGVsZW1lbnRPckVtcHR5ID0gZXhwb3J0cy5lbGVtZW50T3JFbXB0eSA9IGZ1bmN0aW9uIGVsZW1lbnRPckVtcHR5KGVsZW1lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBlbGVtZW50ID09PSAndW5kZWZpbmVkJyB8fCBlbGVtZW50ID09PSBudWxsID8gJycgOiBlbGVtZW50O1xufTtcblxudmFyIGpvaW5lciA9IGV4cG9ydHMuam9pbmVyID0gZnVuY3Rpb24gam9pbmVyKGRhdGEpIHtcbiAgdmFyIHNlcGFyYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJywnO1xuICB2YXIgZW5jbG9zaW5nQ2hhcmFjdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnXCInO1xuXG4gIHJldHVybiBkYXRhLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlO1xuICB9KS5tYXAoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiByb3cubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudE9yRW1wdHkoZWxlbWVudCk7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgIHJldHVybiBcIlwiICsgZW5jbG9zaW5nQ2hhcmFjdGVyICsgY29sdW1uICsgZW5jbG9zaW5nQ2hhcmFjdGVyO1xuICAgIH0pLmpvaW4oc2VwYXJhdG9yKTtcbiAgfSkuam9pbihcIlxcblwiKTtcbn07XG5cbnZhciBhcnJheXMyY3N2ID0gZXhwb3J0cy5hcnJheXMyY3N2ID0gZnVuY3Rpb24gYXJyYXlzMmNzdihkYXRhLCBoZWFkZXJzLCBzZXBhcmF0b3IsIGVuY2xvc2luZ0NoYXJhY3Rlcikge1xuICByZXR1cm4gam9pbmVyKGhlYWRlcnMgPyBbaGVhZGVyc10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShkYXRhKSkgOiBkYXRhLCBzZXBhcmF0b3IsIGVuY2xvc2luZ0NoYXJhY3Rlcik7XG59O1xuXG52YXIganNvbnMyY3N2ID0gZXhwb3J0cy5qc29uczJjc3YgPSBmdW5jdGlvbiBqc29uczJjc3YoZGF0YSwgaGVhZGVycywgc2VwYXJhdG9yLCBlbmNsb3NpbmdDaGFyYWN0ZXIpIHtcbiAgcmV0dXJuIGpvaW5lcihqc29uczJhcnJheXMoZGF0YSwgaGVhZGVycyksIHNlcGFyYXRvciwgZW5jbG9zaW5nQ2hhcmFjdGVyKTtcbn07XG5cbnZhciBzdHJpbmcyY3N2ID0gZXhwb3J0cy5zdHJpbmcyY3N2ID0gZnVuY3Rpb24gc3RyaW5nMmNzdihkYXRhLCBoZWFkZXJzLCBzZXBhcmF0b3IsIGVuY2xvc2luZ0NoYXJhY3Rlcikge1xuICByZXR1cm4gaGVhZGVycyA/IGhlYWRlcnMuam9pbihzZXBhcmF0b3IpICsgXCJcXG5cIiArIGRhdGEgOiBkYXRhLnJlcGxhY2UoL1wiL2csICdcIlwiJyk7XG59O1xuXG52YXIgdG9DU1YgPSBleHBvcnRzLnRvQ1NWID0gZnVuY3Rpb24gdG9DU1YoZGF0YSwgaGVhZGVycywgc2VwYXJhdG9yLCBlbmNsb3NpbmdDaGFyYWN0ZXIpIHtcbiAgaWYgKGlzSnNvbnMoZGF0YSkpIHJldHVybiBqc29uczJjc3YoZGF0YSwgaGVhZGVycywgc2VwYXJhdG9yLCBlbmNsb3NpbmdDaGFyYWN0ZXIpO1xuICBpZiAoaXNBcnJheXMoZGF0YSkpIHJldHVybiBhcnJheXMyY3N2KGRhdGEsIGhlYWRlcnMsIHNlcGFyYXRvciwgZW5jbG9zaW5nQ2hhcmFjdGVyKTtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgcmV0dXJuIHN0cmluZzJjc3YoZGF0YSwgaGVhZGVycywgc2VwYXJhdG9yKTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRhdGEgc2hvdWxkIGJlIGEgXFxcIlN0cmluZ1xcXCIsIFxcXCJBcnJheSBvZiBhcnJheXNcXFwiIE9SIFxcXCJBcnJheSBvZiBvYmplY3RzXFxcIiBcIik7XG59O1xuXG52YXIgYnVpbGRVUkkgPSBleHBvcnRzLmJ1aWxkVVJJID0gZnVuY3Rpb24gYnVpbGRVUkkoZGF0YSwgdUZFRkYsIGhlYWRlcnMsIHNlcGFyYXRvciwgZW5jbG9zaW5nQ2hhcmFjdGVyKSB7XG4gIHZhciBjc3YgPSB0b0NTVihkYXRhLCBoZWFkZXJzLCBzZXBhcmF0b3IsIGVuY2xvc2luZ0NoYXJhY3Rlcik7XG4gIHZhciB0eXBlID0gaXNTYWZhcmkoKSA/ICdhcHBsaWNhdGlvbi9jc3YnIDogJ3RleHQvY3N2JztcbiAgdmFyIGJsb2IgPSBuZXcgQmxvYihbdUZFRkYgPyBcIlxcdUZFRkZcIiA6ICcnLCBjc3ZdLCB7IHR5cGU6IHR5cGUgfSk7XG4gIHZhciBkYXRhVVJJID0gXCJkYXRhOlwiICsgdHlwZSArIFwiO2NoYXJzZXQ9dXRmLTgsXCIgKyAodUZFRkYgPyBcIlxcdUZFRkZcIiA6ICcnKSArIGNzdjtcblxuICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuXG4gIHJldHVybiB0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gJ3VuZGVmaW5lZCcgPyBkYXRhVVJJIDogVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5DU1ZMaW5rID0gZXhwb3J0cy5DU1ZEb3dubG9hZCA9IHVuZGVmaW5lZDtcblxudmFyIF9Eb3dubG9hZCA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9Eb3dubG9hZCcpO1xuXG52YXIgX0Rvd25sb2FkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rvd25sb2FkKTtcblxudmFyIF9MaW5rID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL0xpbmsnKTtcblxudmFyIF9MaW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpbmspO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQ1NWRG93bmxvYWQgPSBleHBvcnRzLkNTVkRvd25sb2FkID0gX0Rvd25sb2FkMi5kZWZhdWx0O1xudmFyIENTVkxpbmsgPSBleHBvcnRzLkNTVkxpbmsgPSBfTGluazIuZGVmYXVsdDsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlByb3BzTm90Rm9yd2FyZGVkID0gZXhwb3J0cy5kZWZhdWx0UHJvcHMgPSBleHBvcnRzLnByb3BUeXBlcyA9IHVuZGVmaW5lZDtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHByb3BUeXBlcyA9IGV4cG9ydHMucHJvcFR5cGVzID0ge1xuICBkYXRhOiAoMCwgX3Byb3BUeXBlcy5vbmVPZlR5cGUpKFtfcHJvcFR5cGVzLnN0cmluZywgX3Byb3BUeXBlcy5hcnJheSwgX3Byb3BUeXBlcy5mdW5jXSkuaXNSZXF1aXJlZCxcbiAgaGVhZGVyczogX3Byb3BUeXBlcy5hcnJheSxcbiAgdGFyZ2V0OiBfcHJvcFR5cGVzLnN0cmluZyxcbiAgc2VwYXJhdG9yOiBfcHJvcFR5cGVzLnN0cmluZyxcbiAgZmlsZW5hbWU6IF9wcm9wVHlwZXMuc3RyaW5nLFxuICB1RkVGRjogX3Byb3BUeXBlcy5ib29sLFxuICBvbkNsaWNrOiBfcHJvcFR5cGVzLmZ1bmMsXG4gIGFzeW5jT25DbGljazogX3Byb3BUeXBlcy5ib29sLFxuICBlbmNsb3NpbmdDaGFyYWN0ZXI6IF9wcm9wVHlwZXMuc3RyaW5nXG59O1xuXG52YXIgZGVmYXVsdFByb3BzID0gZXhwb3J0cy5kZWZhdWx0UHJvcHMgPSB7XG4gIHNlcGFyYXRvcjogJywnLFxuICBmaWxlbmFtZTogJ2dlbmVyYXRlZEJ5X3JlYWN0LWNzdi5jc3YnLFxuICB1RkVGRjogdHJ1ZSxcbiAgYXN5bmNPbkNsaWNrOiBmYWxzZSxcbiAgZW5jbG9zaW5nQ2hhcmFjdGVyOiAnXCInXG59O1xuXG52YXIgUHJvcHNOb3RGb3J3YXJkZWQgPSBleHBvcnRzLlByb3BzTm90Rm9yd2FyZGVkID0gWydkYXRhJywgJ2hlYWRlcnMnXTsiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJvYmoiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiX3JlYWN0MiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2NvcmUiLCJfbWV0YVByb3BzIiwiQ1NWRG93bmxvYWQiLCJfUmVhY3QkQ29tcG9uZW50IiwiaW5zdGFuY2UiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3RoaXMiLCJzZWxmIiwiY2FsbCIsIlJlZmVyZW5jZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsInN0YXRlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJzZXRQcm90b3R5cGVPZiIsIl9pbmhlcml0cyIsImJ1aWxkVVJJIiwiYXBwbHkiLCJ1bmRlZmluZWQiLCJhcmd1bWVudHMiLCJfcHJvcHMiLCJkYXRhIiwiaGVhZGVycyIsInNlcGFyYXRvciIsImVuY2xvc2luZ0NoYXJhY3RlciIsInVGRUZGIiwic3BlY3MiLCJyZXBsYWNlIiwicGFnZSIsIndpbmRvdyIsIm9wZW4iLCJDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJhc3NpZ24iLCJwcm9wVHlwZXMiLCJfZXh0ZW5kcyIsInNvdXJjZSIsImhhc093blByb3BlcnR5IiwiQ1NWTGluayIsImJpbmQiLCJldmVudCIsImlzQXN5bmMiLCJuYXZpZ2F0b3IiLCJtc1NhdmVPck9wZW5CbG9iIiwicHJldmVudERlZmF1bHQiLCJmaWxlbmFtZSIsImNzdkRhdGEiLCJibG9iIiwiQmxvYiIsInRvQ1NWIiwibXNTYXZlQmxvYiIsIl90aGlzMiIsIm9uQ2xpY2siLCJwcm9jZWVkIiwiaGFuZGxlTGVnYWN5IiwiX3RoaXMzIiwiYXN5bmNPbkNsaWNrIiwiaGFuZGxlQXN5bmNDbGljayIsImhhbmRsZVN5bmNDbGljayIsIl90aGlzNCIsIl9wcm9wczIiLCJjaGlsZHJlbiIsInJlc3QiLCJrZXlzIiwiaW5kZXhPZiIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImhyZWYiLCJjcmVhdGVFbGVtZW50IiwiZG93bmxvYWQiLCJyZWYiLCJsaW5rIiwiaGFuZGxlQ2xpY2siLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJhcnIyIiwiZnJvbSIsImlzU2FmYXJpIiwidGVzdCIsInVzZXJBZ2VudCIsImlzSnNvbnMiLCJhcnJheSIsImV2ZXJ5Iiwicm93IiwiaXNBcnJheXMiLCJqc29uc0hlYWRlcnMiLCJtYXAiLCJqc29uIiwicmVkdWNlIiwiYSIsImIiLCJTZXQiLCJjb25jYXQiLCJqc29uczJhcnJheXMiLCJqc29ucyIsImhlYWRlckxhYmVscyIsImhlYWRlcktleXMiLCJoZWFkZXIiLCJsYWJlbCIsIm9iamVjdCIsImdldEhlYWRlclZhbHVlIiwicHJvcGVydHkiLCJmb3VuZFZhbHVlIiwic3BsaXQiLCJvIiwicCIsInNwbGljZSIsImVsZW1lbnRPckVtcHR5IiwiZWxlbWVudCIsImpvaW5lciIsImZpbHRlciIsImUiLCJjb2x1bW4iLCJqb2luIiwiYXJyYXlzMmNzdiIsImpzb25zMmNzdiIsInN0cmluZzJjc3YiLCJjc3YiLCJ0eXBlIiwiZGF0YVVSSSIsIlVSTCIsIndlYmtpdFVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIl9Eb3dubG9hZDIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX0xpbmsyIiwiUHJvcHNOb3RGb3J3YXJkZWQiLCJfcHJvcFR5cGVzIiwib25lT2ZUeXBlIiwic3RyaW5nIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJib29sIl0sInNvdXJjZVJvb3QiOiIifQ==